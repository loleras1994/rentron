<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Επικοινωνία | Rentron AEΒΕ</title>
  <link rel="stylesheet" href="../style.css" />
  <link rel="icon" href="../favicon.ico" type="image/x-icon" />
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>
<body>
  <div class="top-banner">
    <div class="container">
      <a href="../files/espa3.pdf" target="_blank" rel="noopener">
        <img src="../images/espa3.webp" alt="ΕΣΠΑ 3" class="banner-image" />
      </a>
    </div>
  </div>
<header id="main-header"></header>

  <!-- Hero -->
  <section class="hero">
    <div class="container">
      <h1>Επικοινωνία</h1>
      <p>Θα χαρούμε να επικοινωνήσετε μαζί μας.</p>
    </div>
  </section>

  <!-- Contact Form -->
  <section class="contact" style="background: #f9f9f9;">
    <div class="container">
      <h3 style="text-align: center;">Στείλτε μας ένα μήνυμα</h3>
      <form id="contact-form">
		<input type="hidden" name="lang" value="el">

        <label for="name">Ονοματεπώνυμο</label>
        <input type="text" id="name" name="name" required />

        <label for="company">Εταιρεία</label>
        <input type="text" id="company" name="company" />

        <label for="email">Email</label>
        <input type="email" id="email" name="email" required />

        <label for="message">Μήνυμα</label>
        <textarea id="message" name="message" required></textarea>

        <div class="g-recaptcha" data-sitekey="6LeAWpcrAAAAACtHMQSB-xJRyjQHmSXmekgFPOMQ"></div>
        <br>

        <button type="submit">Αποστολή</button>
		<div id="form-response" style="margin-top: 15px; color: green;"></div>      
		<label class="consent-label">
		  <input type="checkbox" name="consent" required>
		  <span class="consent-text">
			Συμφωνώ ώστε η Rentron να αποθηκεύσει και να επεξεργαστεί τα προσωπικά μου δεδομένα σύμφωνα με την 
			<a href="privacy&cookie-policy.html" target="_blank">Πολιτική Απορρήτου & Cookies</a>.
		  </span>
		</label>		
      </form>
    </div>
  </section>

  <!-- Map & Locations -->
  <section class="contact">
    <div class="container">
      <h3 style="text-align: center;">Που θα μας βρείτε</h3>
      <div style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; margin-top: 20px;">
        <div style="flex: 1 1 400px; max-width: 600px;">
          <h5 style="margin-bottom: 10px;">Γραφεία - Παλαιό Φάληρο</h5>
          <div style="width: 100%; height: 300px; border-radius: 8px; overflow: hidden;">
            <iframe title="Rentron Γραφεία - Παλαιό Φάληρο" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3119.295604829224!2d23.6927781!3d37.9321826!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14a1bc3d5ccdfad3%3A0xfdad202b3629edfb!2sRentron%20S.A.!5e0!3m2!1sel!2sgr!4v1718980000000!5m2!1sel!2sgr" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          </div>
          <p style="margin-top: 10px;">Ατλάντος 44, Παλαιό Φάληρο 175 61<br>Τηλ.: +30 210 9820564<br>Email: info@rentron.gr</p>
        </div>

        <div style="flex: 1 1 400px; max-width: 600px;">
          <h5 style="margin-bottom: 10px;">Εργοστάσιο - Κόρινθος</h5>
          <div style="width: 100%; height: 300px; border-radius: 8px; overflow: hidden;">
            <iframe title="Rentron Εργοστάσιο - Κόρινθος" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3130.6248088931733!2d22.973518511407146!3d37.92806527952621!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14a015c1b578bd17%3A0x62202b08ddd895ca!2sRENTRON%20S.A.%20SHEET%20METAL%20CONSTRUCTIONS!5e0!3m2!1sel!2sgr!4v1718988888888!5m2!1sel!2sgr" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          </div>
          <p style="margin-top: 10px;">Παλαιά ΕΟ Αθηνών Κορίνθου 72th km, Λουτράκι 203 00<br>Τηλ.: +30 27410 25528<br>Email: ergo@rentron.gr</p>
        </div>
      </div>
    </div>
  </section>

<div id="footer-placeholder"></div>

<script>
  function prefillFromQuery() {
    const params    = new URLSearchParams(window.location.search);
    // bail out if no params
    if (![...params].length) return;
    
    const doorMap   = { plexi:'Πόρτα με Πλέξι', blind:'Τυφλή Πόρτα', punched:'Διάτρητη Πόρτα' };
    const rackSuffix= key => key==='u'?'U':(key==='width'||key==='depth')?' mm':'';

    // 1) detect custom
    const frameCode = params.get('frameCode')||'';
    const isCustom  = !frameCode
      || frameCode.toLowerCase().includes('—');

    // 2) intro
    const introLine = isCustom
      ? 'Θα ήθελα να ζητήσω προσφορά για εξατομικευμένα rack διαμορφωμένα ως εξής:'
      : 'Θα ήθελα να ζητήσω προσφορά για rack διαμορφωμένα ως εξής:';

    // 3) rack specs
    const rackKeys   = ['u','width','depth'];
    const rackLabels = { u:'Ύψος', width:'Πλάτος', depth:'Βάθος' };
    const rackLines  = rackKeys.map(k=>{
      const v = params.get(k)||'—';
      return `- ${rackLabels[k]}: ${v}${rackSuffix(k)}`;
    });

    // 3.1) quantity
    const quantity = params.get('quantity') || '—';
    rackLines.push(`- Ποσότητα: ${quantity}`);

    // 4) side panels
    const sideCode = params.get('sideCode');
    const sideLine = isCustom
      ? `- Πλαϊνά: ${sideCode?'Ναι':'Όχι'}`
      : `- Πλαϊνά: ${sideCode||'Όχι'}`;

    // 5) front door
    const frontType = params.get('frontType');
    const frontCode = params.get('frontCode');
    let frontLine;
    if (isCustom) {
      frontLine = `- Εμπρός Πόρτα: ${
        frontType && frontType!=='none'
          ? doorMap[frontType]||frontType
          : 'Όχι'
      }`;
    } else {
      frontLine = frontCode
        ? `- Εμπρός Πόρτα: ${doorMap[frontType]||frontType} (${frontCode})`
        : `- Εμπρός Πόρτα: Όχι`;
    }

    // 6) rear option
    const rearType = params.get('rearType');
    const rearCode = params.get('rearCode');
    let rearLine;
    if (isCustom) {
      rearLine = `- Πίσω: ${
        rearType && rearType!=='none'
          ? (rearType==='panel'
             ? 'Πάνελ'
             : doorMap[rearType]||rearType)
          : 'Όχι'
      }`;
    } else {
      if (!rearType || rearType==='none')
        rearLine = `- Πίσω: Όχι`;
      else if (rearType==='panel')
        rearLine = `- Πίσω: Πάνελ (${rearCode})`;
      else
        rearLine = `- Πίσω: ${doorMap[rearType]||rearType} (${rearCode})`;
    }

    // 7) assemble message
    const lines = [
      'Γειά σας,',
      '',
      introLine,
      ...rackLines
    ];

    // include frame code only if not custom
    if (!isCustom) {
      lines.push(`- Κωδικός Πλαισίου Rack: ${frameCode}`);
    }

    lines.push(
      '',        
      sideLine,
      frontLine,
      rearLine,
      '',
      'Παρακαλώ ενημερώστε με για την τιμή και τον χρόνο παράδοσης.',
      '',
      'Ευχαριστώ.'
    );

    document.getElementById('message').value = lines.join('\n');
  }

  window.addEventListener('DOMContentLoaded', prefillFromQuery);
</script>


<script>
document.getElementById("contact-form").addEventListener("submit", function(e) {
  e.preventDefault();
  const form = e.target;
  const formData = new FormData(form);

  fetch("../send.php", {
    method: "POST",
    body: formData
  })
  .then(response => response.text())
  .then(data => {
    const responseDiv = document.getElementById("form-response");
    responseDiv.textContent = data;
    responseDiv.style.color = data.toLowerCase().includes("success") ? "green" : "red";
    form.reset();
    if (typeof grecaptcha !== 'undefined') {
      grecaptcha.reset();
    }
  })
  .catch(error => {
    const responseDiv = document.getElementById("form-response");
    responseDiv.textContent = "Παρουσιάστηκε σφάλμα. Παρακαλώ δοκιμάστε ξανά.";
    responseDiv.style.color = "red";
  });
});
</script>

  <script src="../main.js" defer></script>
</body>
</html>
